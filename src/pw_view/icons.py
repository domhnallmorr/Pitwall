from PIL import Image, ImageTk
import base64
import io


def setup_icons(view):

	size = 50,50
	view.icons = {}

	data = "iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABgElEQVR4nO3Xv0tVYRgH8FeJQsiyIQdb3GwJJzdBIgL/g5zEqbmtf6G10bUpEEQERxFUgiJoagmXlkKjQQiHEj8hvNLBH9xzj8fTOfh84HKHy31fvrzf97nnphR6wzg28ms8dREeY9c/PzGbugIDeIlDZx3hFQZTm+EOlvW2hnupjTCJHeV9xdSpNc7VZIh5HOjf8XfmC+u8wO/Gg+AWXru8NxjKa07jW2NB8ADv1OfjyYjGfaxfeRDM4Lv6/cDTvMeNPOGOmh6tdTnMewzkPZ/VHWIYS5qzipG6QzzEZ837gkd1hZjDL//PARYuE+DksrXFIm72G2K0OP5aZBtjZUOc+UFqmT086RXi+XmPCC30pziiiwFu463uWcHdYpAP+YN93bGf398Xgxxfok+Y0B0T+fls86J70gmpxNTqhBRBWibFibRMihO5TieS+hRBxImUE9WqIMVlLyGqVUGKapUQ1aogRbVKiGpVkKJaJUS1rqhaWx34Y7XZ714hpGr+AkXKksGDJl/EAAAAAElFTkSuQmCC"
	view.home_icon2 = decode_base65_image_driver(size, data)
	view.icons["home"] = view.home_icon2

	data = "iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/0lEQVR4nO3YTYhNcRjH8b/3vCVvJUQUyWKKbKQkpWZFYWGBsrG1nOwsLGZriR2ZJDuUWEgpSlJS3sJGyEsh78N8dOq5dbpNY5q5Z+69/8637j2L8z/PyznneZ7f/6RUU1NTU9MOZEKSUSJ/ZJJILz7qXoZwvFEnK3BX9/EFuxtJbI7jLAzoHh5gTcS+sPgbRF+pix3Gb53NAGZHvBvwoty1zmBmnNyKtzqPwaabfgDfhmu/97AyFi3HHZ3DO2yP2GbgxP/myPumC05rP7ewNGJahtujHYjD1c0v7eEkppde+Tdjmeznim4WRrbgtYnjBw6F70k4MlITGo1EuY9VYXAxbqieZ+gJn3NwoVVa6wN2hOGp6FcdlzE/fK3Fw1aLxkKT9RWPOZzsx3etlRr9mBz2d+JTler3fNMwemn8FFqvN2xOwbFIrHIZ/wjrwvEiXDd2ihpcXbJ1baL3I5+xq3QXx1I3Z0tdceN4nm5q8Xu9D19Hcd3Pop2W5tTB8dZb0houYV4E1YPnI6x9VVLchXI41Wlb3SdYHwEuwNVh1tzEkiq0XFLRRiemcdGu/5akxrQ4t63V6jppPUPRPht1swd7S8kdreI7QVIdVxoTOpKYi4vd+jnoKTbF73GVjpJMSDIhyYQkE5JMSDIhyYQkE5JMSDIhyYRUU1NTU5PawD95ZgOCo89UiQAAAABJRU5ErkJggg=="
	view.email_icon2 = decode_base65_image_driver(size, data)
	view.icons["email"] = view.email_icon2

	data = "iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA1UlEQVR4nO2V0Q7CIBRD+3m+Of//bcp+o2aJTjNBGMGsuJ63jVAovVyAQkieSF75Ypz/lc7fW3/hIbxmRCf6C0/l1Le6fn9GSF5ITsywXqg1KNef9zrEjEyNF6oC2/RDMtrGC20Glfs5rhE1YCNiwImIAaMOOwU2IgaciBg4fCL40vF+MZaj3UQbgRN5x6WlBtx+IyRPx+0XfkdQfblcWtj3QVQDhzcC35FPkuUBt1+4/ZaWSO1YjuqJasBGxIATEQP/nEhgf9xiRobOzASS59gbZCDAHW89wEyxIMcoAAAAAElFTkSuQmCC"
	view.calendar_icon2 = decode_base65_image_driver(size, data)
	view.icons["calendar"] = view.calendar_icon2

	data = "iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAy0lEQVR4nO3SQQrCAAxFwd7/WIrnittuHip0kELmAO8TyHGstX4yM6+50Kl7pec3h1xKd5MaVN2kBlU3qUHVTWpQdZMaVN2kBlU3qUHVTWpQdZMaVN2kBlU3qUHVXbcx6AVUN6lB1U1qUHWTGlTdpAZVN6lB1U1qUHWTGlTdpAZVN6lB1U1qUHWTGlTddRuDXkB1kxpU3aQGVTepQdVNalB1kxpU3aQGVTepQdVNalB1kxpU3aQGVTepwX8c8hSDVzZn5vHxkLXWcfYGzNOoq0xrttgAAAAASUVORK5CYII="
	view.table_icon2 = decode_base65_image_driver(size, data)
	view.icons["table"] = view.table_icon2

	data = "iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABiklEQVR4nO3XvWoUURiH8fGDoOgWSSUEgukFmxj0CryANMHC0tZatMwFKAixUfACbDLaKKRIJARtBSEfiCmsEj8CAdHiFxbOwrLszs4kzjKL7wPDad5z/ueZOXPOTJYFQRAEQRAEwX8D1hSzijNZ08GO4VzPmg4elhB5kDUdXMGfISJr2TiAV0NE/mKqT78LuIF7WMY7fMJ+6rc+apHbJZbXYqq9hkfYSIKFjFrkbAmRj+mqxEhF2lSdYIiM6xNJ/MJ3fMMutrGJHM+xhPu4g6f4gt/YS5vITFNETsshFjBxWpE8bbOXUvu6xknnBVlHeNs+oHEL56uI5APE65DJK2b9xEvc7C5eH1A8N2Dw+RpE5k6YddBdfA53sdVT1BoweKsGkdYJs5b6deoI/RiTJ/Ki8DcDz4as2zc1iOQVs1b6vvA9nWfTtie9bO27cjm1dUh0KJv1HhcLJXo+JjsyTeIDJktJdMlcTcvsazptP+MxpisNVC5rGk9SxlGdWUEQBEEQBEEQBNk/4hh0lGF3rk2oCQAAAABJRU5ErkJggg=="
	view.car_icon2 = decode_base65_image_driver(size, data)
	view.icons["car"] = view.car_icon2

	data = "iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVR4nO3YIU4DURSF4V8MC4AFIDANqWUJWCQLwJBUIVkAphKDYAsEhcVjSFC4Bo+BFTS5TZOLmfCmQ0OamXfOl1w1FXfOdE5fCmZmZmZmZmZmNgr3wB7CAngG9hEOIIAFcIxwAAF8A6cIBxDAErhCOIDIkSnH6BiJcowNU305Ro+puhyj5wymHA+AI2AKnOSTOQPOgctc8hqYA7dZZg/AU77Tr8A78AF8/SGAn7kDmq4FmyyOQ2DSurZe8gKY5ZI3reuPueQL8JZLfrY+EwOYznKM1mxavs/NDS2AznIMkQCK5RhCAfxajuEAkPkGSL8Ci1IJNuo/g6gfhMZmdEfh/7Z12dUiti27WsRQy25XSjcv+5fYstayK5EpuxKZsiuRKbuS6k52ZmZmZmZmZmbsygpAcii6CXixZgAAAABJRU5ErkJggg=="
	view.advance_icon2 = decode_base65_image_driver(size, data)
	view.icons["advance"] = view.advance_icon2

	data = 'iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD70lEQVR4nO2dTW9NQRiAR6nERyRaFqi0FmyUWNBgbaG21QZr/IX62JLGti39D6QWZeEn2JLaSYU2gvoIoZ+SR8adxnX09p6j9868Z+Z9kpvc5N575sw8d2bOzHlnjjGKoiiKoiiKopQBoBXYEPo8FPNbxgDwBfgG9GuhBAZ4xx/ehj6f5CFD8gUSGlSILFAhskCFyAIVIgtUiCxQIbJAhcgCFVK3gHYAZ4F9sQoBOoFeYJuRDLAdeOnK5gfQF5sQ4Dww75J7AWw1UgHOZcpn2WYgFiFUZNg8VXPGSAU4ACz4lAJMVaU15VmGrSn7jWRqnHjTpFBpy2fcqzeGPDUc23cAS5kM/AQumZJB7bxcNGUiBinEIiMGKcQmo8xSiFVGGTtFSnSuzcjoInDQCAE4tErNiE9GHSm5Mwu0ACeBG8A4MAl8doW45N5Pus+uu++2FDh+fzIyMlJszbBMA205ftMBDLmxRlGm3W87cqTT7r6/UnvjlrGCbaZcx9mWo4DGqgSuBzuDcM8es06abe7cxDSlIgAuAB9pPLM2uC50/koDsMnVimZz16YVOr+iAbYAj/DHhE0zdL5FAmwEHuKfx1pTVhcyRjhG/f8F5XfgodHI+arLTHvlExp7RbfLpE7gpirLiEkZNwJvxKCvUSz4ipYRiZvSkMZtkyJuovAN8pixl+AmNdxMrFR6TGoAN5HLoEmNQKPyvDwwqeFuJEnluZEKcKcqlrUIU2sFrgGfkMus7/LIK+PYOjM2s8axJY0/siz4Lg8VUkYhVYM3u7SgKLE2WUPNKI/gaKcuDBeqI5X7JjVcbJVUBk1qCJ86OWFSQ/Dk4usi0Y5RodPvMm9QZdckhiTtG1QWF94phWGTOi7I4YOQIIf20OUhaSPL0KQR6Z4XF2sbCm2qaoSSjgeQYWOJNeh6jWDrCY8yNNg653KEUQ8yhrVmFOtT+pt09fVeO/B/C3sPcLzeFAWVS+KRBg0e512t2Fknzc3AaWC3SQG3fm/OFdKTPPNGwF4bUfifc192buqWPUbO5vKp+913H/t9SVwWfbTghGQPcM2G6tjoEHfncdG97Ptn7rNBO2tbcFn0qWSWRdeQMSdpCQCVpnQ+eilrbFfRJ7RJXY5WShk3cqGEG+ZEKyNaKWWWEZ2UAPsutjbrGVSl364pgIyBZj+DqrRSgCO+95vC0zOoakixee02UgGu+v4XkaHJaa0m5YqRCtAFfPW53xQehVRJWWkFbF47jWSclMvAYU/p/YWnNLtdHrt8pFcqyBD6fJIHFSILVIgsUCGyQIXIAhUiC1SILFAhskCFyAJ45eMZVIqgZ1ApiqIoiqIoiqKYiPkFlhhALXvfZJQAAAAASUVORK5CYII='
	view.sunny_icon2 = decode_base65_image_driver(size, data)
	view.icons["sunny"] = view.sunny_icon2

	data = "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"
	view.cloudy_icon2 = decode_base65_image_driver(size, data)
	view.icons["cloudy"] = view.cloudy_icon2
	
def setup_driver_images(view, data):
	size = 400, 400
	view.driver_images = {}

	for driver in data.keys():
		img_data = data[driver]
		view.driver_icon2 = decode_base65_image_driver(size, img_data)
		view.driver_images[driver] = view.driver_icon2

def decode_base65_image_driver(size, data):
	im = Image.open(io.BytesIO(base64.b64decode(data)))

	return im

def create_track_map(view, name, img_data):
	size = 1536, 767

	view.track_icon2 = decode_base65_image_driver(size, img_data)
	view.track_maps[name] = view.track_icon2


def decode_base64_image(size, data):

	msg = base64.b64decode(data)
	buf = io.BytesIO(msg)
	
	i = Image.open(buf)
	i.thumbnail(size, Image.ANTIALIAS)
	
	# adding transparent padding before text
	#new_image = Image.new('RGBA', (size[0]+5, size[1]), (0, 0, 0, 0))
	#new_image.paste(i, (0, 0))
	
	return i